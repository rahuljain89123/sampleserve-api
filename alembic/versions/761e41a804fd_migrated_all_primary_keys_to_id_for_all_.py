"""migrated all primary keys to ID for all models

Revision ID: 761e41a804fd
Revises: 14bf80dabf67
Create Date: 2017-03-21 14:49:02.606591

"""
from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision = '761e41a804fd'
down_revision = '14bf80dabf67'
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_constraint(u'company_lab_id_fkey', 'company', type_='foreignkey')
    op.drop_constraint(u'criteria_state_id_fkey', 'criteria', type_='foreignkey')
    op.drop_constraint(u'criteria_values_criteria_id_fkey', 'criteria_values', type_='foreignkey')
    op.drop_constraint(u'criteria_values_substance_id_fkey', 'criteria_values', type_='foreignkey')
    op.drop_constraint(u'projects_sites_site_id_fkey', 'projects_sites', type_='foreignkey')
    op.drop_constraint(u'sample_site_id_fkey', 'sample', type_='foreignkey')
    op.drop_constraint(u'sample_schedule_id_fkey', 'sample', type_='foreignkey')
    op.drop_constraint(u'sample_value_well_id_fkey', 'sample_value', type_='foreignkey')
    op.drop_constraint(u'sample_value_substance_id_fkey', 'sample_value', type_='foreignkey')
    op.drop_constraint(u'sample_value_sample_id_fkey', 'sample_value', type_='foreignkey')
    op.drop_constraint(u'schedule_site_id_fkey', 'schedule', type_='foreignkey')
    op.drop_constraint(u'site_laboratory_id_fkey', 'site', type_='foreignkey')
    op.drop_constraint(u'site_state_id_fkey', 'site', type_='foreignkey')
    op.drop_constraint(u'site_data_site_id_fkey', 'site_data', type_='foreignkey')
    op.drop_constraint(u'site_map_site_id_fkey', 'site_map', type_='foreignkey')
    op.drop_constraint(u'site_map_well_well_id_fkey', 'site_map_well', type_='foreignkey')
    op.drop_constraint(u'site_map_well_site_map_id_fkey', 'site_map_well', type_='foreignkey')
    op.drop_constraint(u'site_map_well_site_id_fkey', 'site_map_well', type_='foreignkey')
    op.drop_constraint(u'substance_substance_group_id_fkey', 'substance', type_='foreignkey')
    op.drop_constraint(u'substance_state_names_state_id_fkey', 'substance_state_names', type_='foreignkey')
    op.drop_constraint(u'substance_state_names_substance_id_fkey', 'substance_state_names', type_='foreignkey')
    op.drop_constraint(u'substances_sites_substance_id_fkey', 'substances_sites', type_='foreignkey')
    op.drop_constraint(u'substances_sites_site_id_fkey', 'substances_sites', type_='foreignkey')
    op.drop_constraint(u'test_state_id_fkey', 'test', type_='foreignkey')
    op.drop_constraint(u'tests_substances_substance_id_fkey', 'tests_substances', type_='foreignkey')
    op.drop_constraint(u'tests_substances_test_id_fkey', 'tests_substances', type_='foreignkey')
    op.drop_constraint(u'transaction_lab_id_fkey', 'transaction', type_='foreignkey')
    op.drop_constraint(u'transaction_site_id_fkey', 'transaction', type_='foreignkey')
    op.drop_constraint(u'user_lab_id_fkey', 'user', type_='foreignkey')
    op.drop_constraint(u'users_sites_site_id_fkey', 'users_sites', type_='foreignkey')
    op.drop_constraint(u'well_date_well_id_fkey', 'well_date', type_='foreignkey')
    op.drop_constraint(u'well_date_set_site_id_fkey', 'well_date_set', type_='foreignkey')
    op.drop_constraint(u'well_image_well_id_fkey', 'well_image', type_='foreignkey')
    op.execute('ALTER TABLE public.consultant RENAME COLUMN consultant_id TO id')
    op.execute('ALTER TABLE public.criteria RENAME COLUMN criteria_id TO id')
    op.execute('ALTER TABLE public.frequency RENAME COLUMN frequency_id TO id')
    op.execute('ALTER TABLE public.lab RENAME COLUMN laboratory_id TO id')
    op.execute('ALTER TABLE public.manager RENAME COLUMN manager_id TO id')
    op.execute('ALTER TABLE public.sample RENAME COLUMN sample_id TO id')
    op.execute('ALTER TABLE public.sampler RENAME COLUMN sampler_id TO id')
    op.execute('ALTER TABLE public.schedule RENAME COLUMN schedule_id TO id')
    op.execute('ALTER TABLE public.site RENAME COLUMN site_id TO id')
    op.execute('ALTER TABLE public.site_map RENAME COLUMN site_map_id TO id')
    op.execute('ALTER TABLE public.state RENAME COLUMN state_id TO id')
    op.execute('ALTER TABLE public.substance RENAME COLUMN substance_id TO id')
    op.execute('ALTER TABLE public.substance_group RENAME COLUMN substance_group_id TO id')
    op.execute('ALTER TABLE public.test RENAME COLUMN test_id TO id')
    op.execute('ALTER TABLE public.test_material RENAME COLUMN test_material_id TO id')
    op.execute('ALTER TABLE public.well RENAME COLUMN well_id TO id')
    op.execute('ALTER TABLE public.well_image RENAME COLUMN well_image_id TO id')
    op.execute('ALTER TABLE public.well_options RENAME COLUMN option_id TO id')
    op.alter_column('well', 'site_id', existing_type=sa.INTEGER(), nullable=True)
    # ### end Alembic commands ###
    op.create_foreign_key(None, 'company', 'lab', ['lab_id'], ['id'])
    op.create_foreign_key(None, 'criteria', 'state', ['state_id'], ['id'])
    op.create_foreign_key(None, 'criteria_values', 'substance', ['substance_id'], ['id'])
    op.create_foreign_key(None, 'criteria_values', 'criteria', ['criteria_id'], ['id'])
    op.create_foreign_key(None, 'projects_sites', 'site', ['site_id'], ['id'])
    op.create_foreign_key(None, 'sample', 'schedule', ['schedule_id'], ['id'])
    op.create_foreign_key(None, 'sample', 'site', ['site_id'], ['id'])
    op.create_foreign_key(None, 'sample_value', 'sample', ['sample_id'], ['id'])
    op.create_foreign_key(None, 'sample_value', 'substance', ['substance_id'], ['id'])
    op.create_foreign_key(None, 'sample_value', 'well', ['well_id'], ['id'])
    op.create_foreign_key(None, 'schedule', 'site', ['site_id'], ['id'])
    op.create_foreign_key(None, 'site', 'lab', ['laboratory_id'], ['id'])
    op.create_foreign_key(None, 'site', 'state', ['state_id'], ['id'])
    op.create_foreign_key(None, 'site_data', 'site', ['site_id'], ['id'])
    op.create_foreign_key(None, 'site_map', 'site', ['site_id'], ['id'])
    op.create_foreign_key(None, 'site_map_well', 'site_map', ['site_map_id'], ['id'])
    op.create_foreign_key(None, 'site_map_well', 'well', ['well_id'], ['id'])
    op.create_foreign_key(None, 'site_map_well', 'site', ['site_id'], ['id'])
    op.create_foreign_key(None, 'substance', 'substance_group', ['substance_group_id'], ['id'])
    op.create_foreign_key(None, 'substance_state_names', 'state', ['state_id'], ['id'])
    op.create_foreign_key(None, 'substance_state_names', 'substance', ['substance_id'], ['id'])
    op.create_foreign_key(None, 'substances_sites', 'substance', ['substance_id'], ['id'])
    op.create_foreign_key(None, 'substances_sites', 'site', ['site_id'], ['id'])
    op.create_foreign_key(None, 'test', 'state', ['state_id'], ['id'])
    op.create_foreign_key(None, 'tests_substances', 'substance', ['substance_id'], ['id'])
    op.create_foreign_key(None, 'tests_substances', 'test', ['test_id'], ['id'])
    op.create_foreign_key(None, 'transaction', 'site', ['site_id'], ['id'])
    op.create_foreign_key(None, 'transaction', 'lab', ['lab_id'], ['id'])
    op.create_foreign_key(None, 'user', 'lab', ['lab_id'], ['id'])
    op.create_foreign_key(None, 'users_sites', 'site', ['site_id'], ['id'])
    op.create_foreign_key(None, 'well', 'site', ['site_id'], ['id'])
    op.create_foreign_key(None, 'well_date', 'well', ['well_id'], ['id'])
    op.create_foreign_key(None, 'well_date_set', 'site', ['site_id'], ['id'])
    op.create_foreign_key(None, 'well_image', 'well', ['well_id'], ['id'])


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_constraint(None, 'well_image', type_='foreignkey')
    op.drop_constraint(None, 'well_date_set', type_='foreignkey')
    op.drop_constraint(None, 'well_date', type_='foreignkey')
    op.drop_constraint(None, 'well', type_='foreignkey')
    op.drop_constraint(None, 'users_sites', type_='foreignkey')
    op.drop_constraint(None, 'user', type_='foreignkey')
    op.drop_constraint(None, 'transaction', type_='foreignkey')
    op.drop_constraint(None, 'transaction', type_='foreignkey')
    op.drop_constraint(None, 'tests_substances', type_='foreignkey')
    op.drop_constraint(None, 'tests_substances', type_='foreignkey')
    op.drop_constraint(None, 'test', type_='foreignkey')
    op.drop_constraint(None, 'substances_sites', type_='foreignkey')
    op.drop_constraint(None, 'substances_sites', type_='foreignkey')
    op.drop_constraint(None, 'substance_state_names', type_='foreignkey')
    op.drop_constraint(None, 'substance_state_names', type_='foreignkey')
    op.drop_constraint(None, 'substance', type_='foreignkey')
    op.drop_constraint(None, 'site_map_well', type_='foreignkey')
    op.drop_constraint(None, 'site_map_well', type_='foreignkey')
    op.drop_constraint(None, 'site_map_well', type_='foreignkey')
    op.drop_constraint(None, 'site_map', type_='foreignkey')
    op.drop_constraint(None, 'site_data', type_='foreignkey')
    op.drop_constraint(None, 'site', type_='foreignkey')
    op.drop_constraint(None, 'site', type_='foreignkey')
    op.drop_constraint(None, 'schedule', type_='foreignkey')
    op.drop_constraint(None, 'sample_value', type_='foreignkey')
    op.drop_constraint(None, 'sample_value', type_='foreignkey')
    op.drop_constraint(None, 'sample_value', type_='foreignkey')
    op.drop_constraint(None, 'sample', type_='foreignkey')
    op.drop_constraint(None, 'sample', type_='foreignkey')
    op.drop_constraint(None, 'projects_sites', type_='foreignkey')
    op.drop_constraint(None, 'criteria_values', type_='foreignkey')
    op.drop_constraint(None, 'criteria_values', type_='foreignkey')
    op.drop_constraint(None, 'criteria', type_='foreignkey')
    op.drop_constraint(None, 'company', type_='foreignkey')
    op.execute('ALTER TABLE public.consultant RENAME COLUMN id TO consultant_id')
    op.execute('ALTER TABLE public.criteria RENAME COLUMN id TO criteria_id')
    op.execute('ALTER TABLE public.frequency RENAME COLUMN id TO frequency_id')
    op.execute('ALTER TABLE public.lab RENAME COLUMN id TO laboratory_id')
    op.execute('ALTER TABLE public.manager RENAME COLUMN id TO manager_id')
    op.execute('ALTER TABLE public.sample RENAME COLUMN id TO sample_id')
    op.execute('ALTER TABLE public.sampler RENAME COLUMN id TO sampler_id')
    op.execute('ALTER TABLE public.schedule RENAME COLUMN id TO schedule_id')
    op.execute('ALTER TABLE public.site RENAME COLUMN id TO site_id')
    op.execute('ALTER TABLE public.site_map RENAME COLUMN id TO site_map_id')
    op.execute('ALTER TABLE public.state RENAME COLUMN id TO state_id')
    op.execute('ALTER TABLE public.substance RENAME COLUMN id TO substance_id')
    op.execute('ALTER TABLE public.substance_group RENAME COLUMN id TO substance_group_id')
    op.execute('ALTER TABLE public.test RENAME COLUMN id TO test_id')
    op.execute('ALTER TABLE public.test_material RENAME COLUMN id TO test_material_id')
    op.execute('ALTER TABLE public.well RENAME COLUMN id TO well_id')
    op.execute('ALTER TABLE public.well_image RENAME COLUMN id TO well_image_id')
    op.execute('ALTER TABLE public.well_options RENAME COLUMN id TO option_id')
    op.alter_column('well', 'site_id', existing_type=sa.INTEGER(), nullable=False)
    op.create_foreign_key(u'well_image_well_id_fkey', 'well_image', 'well', ['well_id'], ['well_id'])
    op.create_foreign_key(u'well_date_set_site_id_fkey', 'well_date_set', 'site', ['site_id'], ['site_id'])
    op.create_foreign_key(u'well_date_well_id_fkey', 'well_date', 'well', ['well_id'], ['well_id'])
    op.create_foreign_key(u'users_sites_site_id_fkey', 'users_sites', 'site', ['site_id'], ['site_id'])
    op.create_foreign_key(u'user_lab_id_fkey', 'user', 'lab', ['lab_id'], ['laboratory_id'])
    op.create_foreign_key(u'transaction_site_id_fkey', 'transaction', 'site', ['site_id'], ['site_id'])
    op.create_foreign_key(u'transaction_lab_id_fkey', 'transaction', 'lab', ['lab_id'], ['laboratory_id'])
    op.create_foreign_key(u'tests_substances_test_id_fkey', 'tests_substances', 'test', ['test_id'], ['test_id'])
    op.create_foreign_key(u'tests_substances_substance_id_fkey', 'tests_substances', 'substance', ['substance_id'], ['substance_id'])
    op.create_foreign_key(u'test_state_id_fkey', 'test', 'state', ['state_id'], ['state_id'])
    op.create_foreign_key(u'substances_sites_site_id_fkey', 'substances_sites', 'site', ['site_id'], ['site_id'])
    op.create_foreign_key(u'substances_sites_substance_id_fkey', 'substances_sites', 'substance', ['substance_id'], ['substance_id'])
    op.create_foreign_key(u'substance_state_names_substance_id_fkey', 'substance_state_names', 'substance', ['substance_id'], ['substance_id'])
    op.create_foreign_key(u'substance_state_names_state_id_fkey', 'substance_state_names', 'state', ['state_id'], ['state_id'])
    op.create_foreign_key(u'substance_substance_group_id_fkey', 'substance', 'substance_group', ['substance_group_id'], ['substance_group_id'])
    op.create_foreign_key(u'site_map_well_site_id_fkey', 'site_map_well', 'site', ['site_id'], ['site_id'])
    op.create_foreign_key(u'site_map_well_site_map_id_fkey', 'site_map_well', 'site_map', ['site_map_id'], ['site_map_id'])
    op.create_foreign_key(u'site_map_well_well_id_fkey', 'site_map_well', 'well', ['well_id'], ['well_id'])
    op.create_foreign_key(u'site_map_site_id_fkey', 'site_map', 'site', ['site_id'], ['site_id'])
    op.create_foreign_key(u'site_data_site_id_fkey', 'site_data', 'site', ['site_id'], ['site_id'])
    op.create_foreign_key(u'site_state_id_fkey', 'site', 'state', ['state_id'], ['state_id'])
    op.create_foreign_key(u'site_laboratory_id_fkey', 'site', 'lab', ['laboratory_id'], ['laboratory_id'])
    op.create_foreign_key(u'schedule_site_id_fkey', 'schedule', 'site', ['site_id'], ['site_id'])
    op.create_foreign_key(u'sample_value_sample_id_fkey', 'sample_value', 'sample', ['sample_id'], ['sample_id'])
    op.create_foreign_key(u'sample_value_substance_id_fkey', 'sample_value', 'substance', ['substance_id'], ['substance_id'])
    op.create_foreign_key(u'sample_value_well_id_fkey', 'sample_value', 'well', ['well_id'], ['well_id'])
    op.create_foreign_key(u'sample_schedule_id_fkey', 'sample', 'schedule', ['schedule_id'], ['schedule_id'])
    op.create_foreign_key(u'sample_site_id_fkey', 'sample', 'site', ['site_id'], ['site_id'])
    op.create_foreign_key(u'projects_sites_site_id_fkey', 'projects_sites', 'site', ['site_id'], ['site_id'])
    op.create_foreign_key(u'criteria_values_substance_id_fkey', 'criteria_values', 'substance', ['substance_id'], ['substance_id'])
    op.create_foreign_key(u'criteria_values_criteria_id_fkey', 'criteria_values', 'criteria', ['criteria_id'], ['criteria_id'])
    op.create_foreign_key(u'criteria_state_id_fkey', 'criteria', 'state', ['state_id'], ['state_id'])
    op.create_foreign_key(u'company_lab_id_fkey', 'company', 'lab', ['lab_id'], ['laboratory_id'])
    # ### end Alembic commands ###
